<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>iBetelgeuse: ARSpatialStateManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.7.0 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#properties">Properties</a>  </div>
  <div class="headertitle">
<h1>ARSpatialStateManager Class Reference</h1>  </div>
</div>
<div class="contents">
<!-- doxytag: class="ARSpatialStateManager" --><!-- doxytag: inherits="NSObject" -->
<p><code>#import &lt;<a class="el" href="_a_r_spatial_state_manager_8h_source.html">ARSpatialStateManager.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ARSpatialStateManager:</div>
<div class="dyncontent">
 <div class="center">
  <img src="interface_a_r_spatial_state_manager.png" usemap="#ARSpatialStateManager_map" alt=""/>
  <map id="ARSpatialStateManager_map" name="ARSpatialStateManager_map">
<area href="class_n_s_object.html" alt="NSObject" shape="rect" coords="0,0,146,24"/>
</map>
</div>

<p><a href="class_a_r_spatial_state_manager-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#a47af53597bc31decbffa108aa7078154">startUpdating</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#a651eec595c9887710bd1a5710f55ea7f">stopUpdating</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#a87783854260a63c10040fa6bc003a5ff">updateOrientation</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#a5707a4d96d4f62635b06545c6c0c065a">updateWithRawLatitude:longitude:altitude:reliable:accuracy:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#ab9af71d8357dc90dd8cb3b0db1e32001">updateWithRawUpDirection:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#a5b2c0c9b13247d515bb7ea4de5b77924">updateWithRawNorthDirection:declination:</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">(void)&nbsp;</td><td class="memItemRight" valign="bottom">- <a class="el" href="interface_a_r_spatial_state_manager.html#afe2190aa55710009fad21e87ffad0a16">invalidateSpatialStateResettingTimestamp:</a></td></tr>
<tr><td colspan="2"><h2><a name="properties"></a>
Properties</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">id&lt; <a class="el" href="protocol_a_r_spatial_state_manager_delegate-p.html">ARSpatialStateManagerDelegate</a> &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_r_spatial_state_manager.html#ac09cf03e21b06af15dde4be9f48e07e7">delegate</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_a_r_point3_d.html">ARPoint3D</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_r_spatial_state_manager.html#a1eb614076b79525d56080023c9fb43c9">EFToECEFSpaceOffset</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">BOOL&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_r_spatial_state_manager.html#a47c7fa65caf48b86c1ca2e3367f8c6ec">updating</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="interface_a_r_spatial_state.html">ARSpatialState</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="interface_a_r_spatial_state_manager.html#a9fbac11111394539ae9ee6b2c4a10b4f">spatialState</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Class that continuously determines the spatial state (location and orientation) of the device on Earth. </p>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afe2190aa55710009fad21e87ffad0a16"></a><!-- doxytag: member="ARSpatialStateManager::invalidateSpatialStateResettingTimestamp:" ref="afe2190aa55710009fad21e87ffad0a16" args="(BOOL resetTimestamp)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) invalidateSpatialStateResettingTimestamp: </td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>resetTimestamp</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Invalidates the spatial state of the receiver, optionally resetting the timestamp of the spatial state to the current time. When someone requests the spatial state following this method, a new spatial state object will be constructed.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>resetTimestamp</em>&nbsp;</td><td>Whether the timestamp of the spatial state should be reset to the current time. Should be YES if and only if new measurements were done to the location or the orientation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a47af53597bc31decbffa108aa7078154"></a><!-- doxytag: member="ARSpatialStateManager::startUpdating" ref="a47af53597bc31decbffa108aa7078154" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) startUpdating </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Starts determining the spatial state of the device at regular intervals and notifying the delegate about changes. When the receiver is already updating, this method has no effect. As long as the receiver is updating, no other classes should attempt to use the UIAccelerometer. </p>

</div>
</div>
<a class="anchor" id="a651eec595c9887710bd1a5710f55ea7f"></a><!-- doxytag: member="ARSpatialStateManager::stopUpdating" ref="a651eec595c9887710bd1a5710f55ea7f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) stopUpdating </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Stops determining the spatial state of the device and notifying the delegate. When the receiver is not updating, this method has no effect. </p>

</div>
</div>
<a class="anchor" id="a87783854260a63c10040fa6bc003a5ff"></a><!-- doxytag: member="ARSpatialStateManager::updateOrientation" ref="a87783854260a63c10040fa6bc003a5ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateOrientation </td>
          <td></td>
          <td class="paramname"></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the receiver's orientation (in particular, the ENU to device quaternion) using the most recently measured raw up and north directions. </p>

</div>
</div>
<a class="anchor" id="a5707a4d96d4f62635b06545c6c0c065a"></a><!-- doxytag: member="ARSpatialStateManager::updateWithRawLatitude:longitude:altitude:reliable:accuracy:" ref="a5707a4d96d4f62635b06545c6c0c065a" args="(CLLocationDegrees rawLatitude,[longitude] CLLocationDegrees rawLongitude,[altitude] CLLocationDistance rawAltitude,[reliable] BOOL reliable,[accuracy] CLLocationDistance accuracy)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateWithRawLatitude: </td>
          <td></td>
          <td class="paramtype">(CLLocationDegrees)&nbsp;</td>
          <td class="paramname"> <em>rawLatitude</em></td>
        </tr>
        <tr>
          <td class="paramkey">longitude:</td>
          <td></td>
          <td class="paramtype">(CLLocationDegrees)&nbsp;</td>
          <td class="paramname"> <em>rawLongitude</em></td>
        </tr>
        <tr>
          <td class="paramkey">altitude:</td>
          <td></td>
          <td class="paramtype">(CLLocationDistance)&nbsp;</td>
          <td class="paramname"> <em>rawAltitude</em></td>
        </tr>
        <tr>
          <td class="paramkey">reliable:</td>
          <td></td>
          <td class="paramtype">(BOOL)&nbsp;</td>
          <td class="paramname"> <em>reliable</em></td>
        </tr>
        <tr>
          <td class="paramkey">accuracy:</td>
          <td></td>
          <td class="paramtype">(CLLocationDistance)&nbsp;</td>
          <td class="paramname"> <em>accuracy</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the receiver's location with the given raw location.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rawLatitude</em>&nbsp;</td><td>The raw WGS84 latitude. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rawLongitude</em>&nbsp;</td><td>The raw WGS84 longitude. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rawAltitude</em>&nbsp;</td><td>The raw WGS84 altitude. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>reliable</em>&nbsp;</td><td>A flag indicating whether the given location information should be considered reliable (at discretion of the caller). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5b2c0c9b13247d515bb7ea4de5b77924"></a><!-- doxytag: member="ARSpatialStateManager::updateWithRawNorthDirection:declination:" ref="a5b2c0c9b13247d515bb7ea4de5b77924" args="(ARPoint3D rawNorthDirection,[declination] CGFloat declination)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateWithRawNorthDirection: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="struct_a_r_point3_d.html">ARPoint3D</a>)&nbsp;</td>
          <td class="paramname"> <em>rawNorthDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">declination:</td>
          <td></td>
          <td class="paramtype">(CGFloat)&nbsp;</td>
          <td class="paramname"> <em>declination</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the receiver's orientation with the given raw North direction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rawUpDirection</em>&nbsp;</td><td>The raw North direction vector in device space. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>declination</em>&nbsp;</td><td>The raw declination between true and magnetic North in radians. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab9af71d8357dc90dd8cb3b0db1e32001"></a><!-- doxytag: member="ARSpatialStateManager::updateWithRawUpDirection:" ref="ab9af71d8357dc90dd8cb3b0db1e32001" args="(ARPoint3D rawUpDirection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateWithRawUpDirection: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="struct_a_r_point3_d.html">ARPoint3D</a>)&nbsp;</td>
          <td class="paramname"> <em>rawUpDirection</em></td>
          <td>&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Updates the receiver's orientation with the given raw up direction.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rawUpDirection</em>&nbsp;</td><td>The raw up direction vector in device space. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/><h2>Property Documentation</h2>
<a class="anchor" id="ac09cf03e21b06af15dde4be9f48e07e7"></a><!-- doxytag: member="ARSpatialStateManager::delegate" ref="ac09cf03e21b06af15dde4be9f48e07e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (id&lt; <a class="el" href="protocol_a_r_spatial_state_manager_delegate-p.html">ARSpatialStateManagerDelegate</a> &gt;) delegate<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The receiver's delegate. </p>

</div>
</div>
<a class="anchor" id="a1eb614076b79525d56080023c9fb43c9"></a><!-- doxytag: member="ARSpatialStateManager::EFToECEFSpaceOffset" ref="a1eb614076b79525d56080023c9fb43c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="struct_a_r_point3_d.html">ARPoint3D</a>) EFToECEFSpaceOffset<code> [read, write, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The offset between Earth-Fixed space and Earth-Centered Earth-Fixed space.</p>
<p>Usually, this offset (and thus the origin of the Earth-Fixed coordinate space) should be set somewhere close to the device's current location. This makes it possible to describe locations that are close to the device with sufficient precision in Earth-Fixed space. In contrast, when expressing locations in Earth-Centered Earth-Fixed space, the radius of Earth quickly depletes the precision of a 32-bit floating point number. </p>

</div>
</div>
<a class="anchor" id="a9fbac11111394539ae9ee6b2c4a10b4f"></a><!-- doxytag: member="ARSpatialStateManager::spatialState" ref="a9fbac11111394539ae9ee6b2c4a10b4f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_a_r_spatial_state.html">ARSpatialState</a> *) spatialState<code> [read, retain]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The current spatial state as determined by the receiver. Check the locationAvailable, locationReliable, orientationAvailable and orientationReliable of the returned object to validate the quality of the spatial state. </p>

</div>
</div>
<a class="anchor" id="a47c7fa65caf48b86c1ca2e3367f8c6ec"></a><!-- doxytag: member="ARSpatialStateManager::updating" ref="a47c7fa65caf48b86c1ca2e3367f8c6ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">- (BOOL) updating<code> [read, assign]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag indicating whether the receiver is currently updating. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>Sources/<a class="el" href="_a_r_spatial_state_manager_8h_source.html">ARSpatialStateManager.h</a></li>
<li>Sources/<a class="el" href="_a_r_spatial_state_manager_8m.html">ARSpatialStateManager.m</a></li>
</ul>
</div>
<hr class="footer"/><address class="footer"><small>Generated on Tue Jul 6 2010 08:57:31 for iBetelgeuse by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.0 </small></address>
</body>
</html>
